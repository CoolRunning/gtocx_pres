<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Our Plan to Settle the Galaxy</title>

    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/custom.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/monokai.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        
        <section data-background-image="img/galaxy2.jpg" data-vertical-align-top>
          <h2>Our Plan to Settle the Galaxy</h2>
                <p class="shade">Do not read the .pdf, enjoy this presentation online!</p>
                <p class="shade"><a href="http://coolrunning.github.io/gtocx_pres">http://coolrunning.github.io/gtocx_pres</a></p>
                <p class="shade" style="color:#fff;font-size:20px;margin-top:300px;">Dario&nbsp;Izzo, <u>Marcus&nbsp;Märtens</u>, Ekin&nbsp;Oztürk, 
                Máté&nbsp;Kisantal, Konstantinos&nbsp;Konstantinidis, Luís&nbsp;F.&nbsp;Sim̃oes,
                Chit&nbsp;Hong&nbsp;Yam, Javier&nbsp;Hernando-Ayuso</p>

              <img src="img/esa_logo_white2.svg" style="height:80px;padding-right:500px;text-align:left"/>
              <img src="img/actlogo.png" style="height:100px"/>

        </section>
        
        <section data-background-image="img/gtoctrophy.jpg" data-background-opacity=0.2>
          <section data-transition="concave">
            <h1>GTOC</h1>
            <h3>Global Trajectory Optimization Competition</h3>
            <ul>
              <li>(bi)-annual challenge for aerospace engineers and mathematicians world wide</li>
              <li>Funded 2006 by Dario Izzo (ESA)</li>
              <li>Challenge: solve a nearly impossible problem of interplanetary trajectory design</li>
              <li>More information on the <a href="https://sophia.estec.esa.int/gtoc_portal/">GTOC-portal</a></li>
            </ul>
          </section>
          <section data-transition="concave">
            <h2>10th edition: GTOC-X The Problem</h2>
            <blockquote>
            "In about ten thousand years from the present, humanity will reset its counting of years to zero. Year Zero will be the year when humanity decides the time is ripe for the human race to boldly venture into the galaxy and settle other star systems."
            </blockquote>
            <div class="twocolumn" style="grid-template-columns: 3fr 2fr; text-align:center">
              <div>
                <p>
                <a href="https://gtocx.jpl.nasa.gov/media/gtocX_problem_stmt.pdf">GTOC-X Problem Statement</a>
                <small>
                released 15th May 2019 by Jet Propulsion Laboratory (JPL) 
                </small>
                </p>
              </div>
              <div>
                <p>
                <img src="img/jpl_logo.svg" style="width:200px" />
                </p>
              </div>                
            </div>
          </section>
          <section data-transition="concave">
            <h2>Problem details</h2>
            <div class="twocolumn">
              <div>
                <ul style="padding:50px 0px 300px 0px">
                  <li>100 000 stars spread in a 32 kpa disc</li>
                  <li>Slow generational ships: 0.005c</li>
                  <li>90 MYr (=90 Million Years)</li>
                  <li>Galaxy dynamics account for rotational curves anomalies</li>
                  <li>Merit function rewards evenly spreading through the galaxy</li>
                  <li>Exponential growth and spawning of new ships after settlement</li>
                </ul>
              </div>
              <div>
                <img src="img/galaxy_evol.gif" width=500px />
              </div>
            </div>
          </section>
          <section data-transition="concave">
            <h2>The fleet</h2>
            
            <img src="img/spaceship.gif" style="height:200px;padding-bottom:40px"/>  
            
            <table>
						<thead>
							<tr>
								<th>Ship</th>
								<th>Max Total $\Delta V$</th>
								<th>Max$\Delta V$/impulse</th>
                <th>#impulses</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Mother Ship</td>
								<td>500 km/s</td>
								<td>200 km/s</td>
                <td>3</td>
							</tr>
							<tr>
								<td>Settlement Pod</td>
								<td>300 km/s</td>
								<td>300 km/s</td>
                <td>1</td>
							</tr>
							<tr>
								<td>Fast Ship</td>
								<td>1500 km/s</td>
								<td>1500 km/s</td>
                <td>2</td>
							</tr>
							<tr>
								<td>Settler Ship</td>
								<td>400 km/s</td>
								<td>175 km/s</td>
                <td>5</td>
							</tr>
              
						</tbody>
					</table>
          
          </section>

        </section>
        
        <section data-background-image="img/galaxy2.jpg" data-background-opacity=0.1>
          <section data-transition="concave">
            <h2>Objective Function</h2>
            $$
            J = N \eta \sigma = N \underbrace{ \left(\frac{1}{
            1 + 10^{−4} · N(E_r + E_{\theta})}\right)}_{\eta} \underbrace{\left(\frac{\Delta V_\text{max}}{\Delta V_\text{used}}\right)}_{\sigma}
            $$
            <ul>
              <li>$N$: number of settled stars</li>
              <li>$\eta$: settlement spatial distribution efficiency $(<1)$</li>
              <li>$\sigma$: $\Delta V$ efficiency $(>1)$</li>
            </ul>
            <p>These terms are strongly interdependent and need to be carefully 
            balanced to achieve top scores!</p>
          </section>
          <section data-transition="concave">
            <h2>Settling the whole galaxy?</h2>
            <img data-src="img/galaxy_errors.png" class="framed"/>
            <ul>
              <li>Ideal target distributions: $g$</li>
              <ul>
                <li>$g_r$: ideal distance distribution is <b>linear</b></li>
                <li>$g_\Theta$: ideal angular distribution <b>uniform</b></li>
              </ul>
              <li>Realized star distributions of solution: $f$</li>
              <li>Abysmal efficiency: $\eta = 7.023 \cdot 10^{-5}$</li>
            </ul>
          </section>
          <section data-transition="concave">
            <h2>Optimal spatial distributions</h2>
            <img data-src="img/poisson_0myr.png" height=340px class="framed" />
            <img data-src="img/poisson_90myr.png" height=340px class="framed" />
            <p>Poisson Disc sampling covers the whole galactic disc uniformly!</p>
            <p>Stars at the border of the galaxy are very hard to reach</p>
          </section>
          <section data-transition="concave">
            <h2>Optimal spatial distributions</h2>
            <img data-src="img/unperturbed_spiral.png" height=340px class="framed" />
            <img data-src="img/perturbed_spiral.png" height=340px class="framed" />
            <p>Observation: distributions $r$ and $\Theta$ are independent.</p>
            <p>Blue dots and reds dots have the same distributions according to $r$ and $\Theta$</p>
            <p>Unperturbed spiral is too narrow (low $N$)</p>
          </section>
        </section>
        
        <section data-background-image="img/galaxy2.jpg" data-background-opacity=0.1>
          <h2>Reaching the stars</h2>
          <img data-src="img/deltavsectors.png" height=500px class="framed" />
        </section>
        
        <section data-background-image="img/galaxy2.jpg" data-background-opacity=0.1>
          <h2>Fast Ship capabilities</h2>
              <img src="img/fast_ships90.png" style="height:400px" class="framed" />

              <ul>
                <li>Exhaustively compute two-impulse transfer from Sol to any other star</li>
                <li>Filter transfers that take less than 40 Myr (83 915 / 100 000)</li>
                <li>Final star position visualized (90 Myr)</li>
              </ul>

        </section>

        <section data-background-image="img/galaxy2.jpg" data-background-opacity=0.1>
          <section data-transition="concave">
            <h2>Mother Ship design</h2>
            <p>The Mother Ships allows for intricate designs</p>
            <img src="img/mother_legs.svg" style="height:300px" />
            <ul style="padding-top: 20px">
              <li>a) Basic impulsive leg</li>
              <li>b) Two stars - one impulse</li>
              <li>c) One star  - two impulses</li>
            </ul>
          
          </section>   
          <section data-transition="concave">
            <h2>Two star - one impulse leg</h2>
          $$
          \begin{array}{rl}
              \mbox{minimize:} & D_{s_2}(T_1, T_2, T_3) \\
              \mbox{subject to:} & \Delta V_{mother} \le \min(\Delta V_{left}, 200) \ \text{km/sec}\\
                & \Delta V_{\text{pod}_1} \le 300 \ \text{km/sec}\\
                & \Delta V_{\text{pod}_2} \le 300 \ \text{km/sec}\\
                & x_\text{mother}(T_2) =  x_{S_1}(T_2) \\ 
                & x_\text{mother}(T_3) =  x_{S_2}(T_3) \\
          \end{array}
          $$ 
            <ol style="padding-top: 20px">
              <li>Target star $s_1$ with first impulse at $T_1$ and time of flight $T_2$</li>
              <li>Find a star $s_2$ that comes close to the ship after $T_3$</li>
              <li>Minimize the distance to second target star by adjusting $T_1, T_2$ and $T_3$</li>
            </ol>
          </section>
        
          <section data-transition="concave">
            <h2>Mother Ship Trajectory Atlas</h2>
            <img data-src="img/handpicked_mothers3.png" class="framed" />
            <p>Handpicked trajectories for bootstrapping the tree search</p>
          </section>
        </section>


        <section data-transition="slide" data-background-image="img/galaxy2.jpg" data-background-opacity=0.1>
          <section data-transition="concave">
            <h2>Settlers</h2>
            <img src="img/settlers.svg" style="width:600px"/>
          </section>
          <section data-transition="concave">
            <h2>How to select stars?</h2>
            <ul>
              <ul>
                <li>Cost function efficiency: $\eta$</li>
                <ul>
                  <li>Not meaningful for ranking intermediary solutions due to its sensitivity</li>
                </ul>
              </ul>
              <ul>
                <li>Cost function time of flight: $T$</li>
                <ul>
                  <li>Triggers exponential growth and clusters in center of galaxy (bad)</li>
                  <li>Not economic by spending excessive $\Delta V$</li>
                </ul>
              </ul>
              <ul>
                <li>Cost function cumulative: $\Delta V$</li>
                <ul>
                  <li>No pressure to expand fast and thus only few stars settled (bad)</li>
                  <li>Oblivious to the target distribution</li>
                </ul>
              </ul>
            </ul>
            <h4 style="margin-top:30px">Solution?</h4>
            Optimize for $\eta N$ (and take care of $\sigma$ later)!
          </section>
          <section data-transition="concave">
            <h2>Which stars make good candidates?</h2>
            <ul>
              <li>Proximity according Euclidean distance can be suboptimal</li>
              <li>We deploy the <em>orbital indicator</em> to rank transfer potential between stars</li>
              <ul>
                <li>Position and velocities of stars $s_1, s_2$: $(r_1, v_1), (r_2, v_2)$</li>
                <li>Expected time of transfer: $\Delta T$</li>
                <li>Define: 
                <ul>
                  <li>$x_1 = \left[ \frac{1}{\Delta T} r_1 + v_1, \frac{1}{\Delta T} r_1 \right]$</li>
                  <li>$x_2 = \left[ \frac{1}{\Delta T} r_2 + v_2, \frac{1}{\Delta T} r_2 \right]$</li>
                </ul>
                <li>Orbital indicator $d(x_1, x_2) = \Vert x_2 - x_1\Vert_2$</li>
              </ul>
            </ul>
            <blockquote style="font-size:14pt;margin-top:30px"><i>D. Izzo, D. Hennes, L. F. Simoes, and M. Märtens</i>, “<a href="https://arxiv.org/pdf/1511.00821">Designing complex interplanetary trajectories for
the global trajectory optimization competitions</a>” Space Engineering, pp. 151–176, Springer, 2016.</blockquote>
          </section>
          <section data-transition="concave">
            <h2>How to grow the trees?</h2>
            <ul>
              <li>Trees grown independent from each other might</li>
                <ul>
                  <li>overlap in nodes, merging/combining not straightforward</li>
                  <li>collectively decrease $\eta$ even if individually grown to increase it!</li>
                </ul>
            </ul>
            <h4 style="margin-top:30px">Solution?</h4>
            <p>Grow the trees <em>concurrently</em>!</p>
            <ul>
              <li>Denote efficiency of a set of stars $\mathcal{S}$ with $\eta(\mathcal{S})$</li>
              <li>For each potential transfer to a star $s$ compute $\Delta \eta(\mathcal{S}) = \eta(\mathcal{S} \cup \{s\}) - \eta(\mathcal{S})$</li>
              <li>Consider only stars that fulfill:
              $$\Delta \eta(\mathcal{S}) \geq \frac{-0.01 - \eta(\mathcal{S})}{|\mathcal{S}| + 1}$$</li>
            </ul>
          </section>
          <section data-transition="concave">
            <h2>Concurrent Tree Search in action</h2>
            <img data-src="img/concurrent_tree.gif" style="height:500px"/>
          </section>
          <section data-transition="concave">
            <h2>Settlement Trees in all shapes</h2>
            <img src="img/tree0.png" style="width:200px" />
            <img src="img/tree1.png" style="width:200px" />
            <img src="img/tree2.png" style="width:200px" />
            <img src="img/tree3.png" style="width:200px" />
            
            <img src="img/tree4.png" style="width:200px" />
            <img src="img/tree5.png" style="width:200px" />
            <img src="img/tree6.png" style="width:200px" />
            <img src="img/tree7.png" style="width:200px" />
            
            <img src="img/tree8.png" style="width:200px" />
            <img src="img/tree9.png" style="width:200px" />
            <img src="img/tree10.png" style="width:200px" />
          </section>
        </section>      
        
        
        <section data-background-image="img/galaxy2.jpg" data-background-opacity=0.1>
          <section data-transition="concave">
            <h2>But what about $\Delta V$?</h2>
            <img src="img/screw.gif" style="margin-bottom:30px"/>          
            <ul>
              <li>All transfers during concurrent tree search have been optimized for <em>time</em></li>
              <li>Consequently $\sigma \approx 1.18$ (bad)</li>
            </ul>
              <h4 style="margin-top:30px">Solution?</h4>
              <p>Let us fix our trees in <em>post-processing</em>!</p>
          </section>      
          <section data-transition="concave">
            <h2>$\Delta V$ Refinements</h2>
            <img data-src="img/nodestretch.svg" style="height:300px;margin-bottom:30px;" />
            <img data-src="img/shortcut.svg" style="height:300px;margin-bottom:30px;" />
            <ul>
              <li>Score counts at 90Myr</li>
              <ul>
                <li>we can take our time to reach the leaves!</li>
              </ul>
              <li>A star can spawn up to 3 settler ships</li>
              <ul>
                <li>deploy them all to make shortcuts!</li>
                <li>make new leaf nodes in the process!</li>
              </ul>
            </ul>
          </section>
          <section data-transition="concave">
            <h2>Topological restructuring</h2>
            <img data-src="img/restructure.svg" style="height:300px;margin-bottom:30px;" />
            <ul>
              <li>Analyse subtrees of depth 2</li>
              <ul>
                <li>One root node, 3 children and 9 grandchildren (at most)</li>
                <li>For a fixed root, there are $\binom{12}{3} = 220$ different trees possible</li>
                <li>Accounting for arrival-constraints, compute <em>all of them</em> and pick the best!</li>
                <li>Recurse from leaves to root of tree</li>
              </ul>
            </ul>
          </section>
          <section data-transition="concave">
            <h2>Effect of $\Delta V$ Refinements</h2>
            <img src="img/histogram.svg" style="height:500px"/>
          </section>
          <section data-transition="concave">
            <h2>Aggressive Refinements</h2>
            <ul>
              <li><b>Reduction</b></li>
              <ul>
                <li>Find subset of stars to remove from tree with maximum gain in $\eta$</li>
              </ul>
              <li><b>Regrowth</b></li>
              <ul>
                <li>Decisions at early phase of tree search often suboptimal</li>
                <ul>
                  <li>Sensitivity of $\eta$</li>
                  <li>Better decisions possible with knowledge of the final settled regions</li>
                </ul>
                <li>Removing suboptimal branches and kick-starting tree search again</li>
              </ul>
              <li><b>Padding</b></li>
              <ul>
                <li>Send ships really slow to very close stars</li>
                <li>Take into settlement tree if gain in $\sigma$ outweights potential loss in $\eta$</li>
              </ul>
            </ul>
          </section>
          <section data-transition="concave" data-background-color="#002b36">
            <h2>Effect of aggressive refinements</h2>
            <div style="position:relative; width:532px; height:500px; margin:0 auto;">
              <img width="532" height="500" src="img/galaxb.png" style="position:absolute;top:0;left:0;" />
              <img class="fragment fade-out" data-fragment-index="0" width="532" height="500" src="img/galax1.png" style="position:absolute;top:0;left:0;" />
              <img class="fragment fade-in" data-fragment-index="0" width="532" height="500" src="img/galax0.png" style="position:absolute;top:0;left:0;" />
            </div>
            <p style="text-align:left; margin-left:280px"><span class="fragment fade-out" data-fragment-index="0">raw tree search</span><span class="fragment fade-in" data-fragment-index="0">&nbsp;&nbsp;&nbsp;&nbsp;aggressive refinement</span></p>
          </section>
        </section>

        <section data-background-image="img/galaxy2.jpg" data-background-opacity=0.1>
          <section data-transition="concave">
            <h2>Final solution</h2>
            <p>Let us put everything so far together!</p>
            <img src="img/ready.gif" style="margin-top:30px"/>
          </section>
          <section data-transition="concave">
            <h2>The Final search</h2>
            <ul>
              <li>Grid-search over handpicked fast and mother ship trajectories</li>
              <ul>
                <li>Both fast ships towards edge of galaxy
                <ul>
                  <li>$r > 20$kpc, $-1 \leq \Theta \leq 1$</li>
                </ul>
                <li>One mother-ship for center and east part of galaxy</li>
                <ul>
                  <li>$r < 10$kpc, $\Theta \approx 3$</li>
                  <li>One impulse two stars: deploying 6 settlement pods</li>
                </ul>
                <li>Two mother-ships for south part of galaxy</li>
                <ul>
                  <li>$r$ between $10$kpc and $20$kpc, $-3 \leq \Theta \leq -1$</li>
                  <li>Two impulse one stars: deploying 2 settlement pods each</li>
                </ul>
              </ul>
              <li>Application of multiple refinement cycles</li>
              <ol>
                <li>Reduction</li>
                <li>Regrowth</li>
                <li>$\Delta V$-Refinement</li>
                <li>Padding</li>
              </ol>
            </ul>
          </section>
          <section data-transition="concave" data-background-color="#002b36">
            <h2>The Solution: Echoes</h2>
            <img src="img/galaxy_settlement.png" style="height:450px"/>
            <p>$N = 2652, \eta = 0.4678, \sigma = 1.6091, J = 1996.111$</p>
          </section>
          <section data-transition="concave">
            <h2>Echoes in comparison to optimal Spiral</h2>
            <img class="framed" src="img/echoes-spiral_match.png" style="height:450px"/>
          </section>
          <section data-transition="concave">
            <h2>Spatial Distribution of Echoes</h2>
            <img class="framed" src="img/echoes-solution_analysis.png" style="width:800px"/>
          </section>
          <section data-transition="concave">
            <h2>Leaderboard</h2>
            <table style="font-size:14pt">
              <thead>
                  <tr>
                      <th class="col-md-2"> Name</th>
                      <th class="col-md-2">Submissions</th>
                      <th class="col-md-2">Last Submission</th>
                      <th class="col-md-2">Best Submission</th>
                      <th class="col-md-2 text-center">N, DVused, DVmax</th>
                      <th class="col-md-2">Best Score</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <td>NUDT&amp;XSCC</td>
                      <td>54</td>
                      <td>June 12, 2019, 3:55 p.m.</td>
                      <td>June 12, 2019, 3:55 p.m.</td>
                      <td class="text-center">3798, 0.812701E+06, 0.152170E+07</td>
                      <td><b>3101.14604</b></td>
                  </tr>
                  <tr>
                      <td>Tsinghua LAD - XINGYI</td>
                      <td>92</td>
                      <td>June 12, 2019, 12:19 p.m.</td>
                      <td>June 12, 2019, 12:19 p.m.</td>
                      <td class="text-center">2806, 0.624757E+06, 0.112500E+07</td>
                      <td><b>2070.53723</b></td>
                  </tr>
                  <tr style="background-color:#ffffff33">
                      <td>ESA-ACT</td>
                      <td>21</td>
                      <td>June 12, 2019, 3:45 p.m.</td>
                      <td>June 12, 2019, 3:45 p.m.</td>
                      <td class="text-center">2652, 0.660946E+06, 0.106350E+07</td>
                      <td><b>1996.11072</b></td>
                  </tr>
                  <tr>
                      <td>The Aerospace Corporation</td>
                      <td>48</td>
                      <td>June 12, 2019, 3:35 p.m.</td>
                      <td>June 12, 2019, 3:35 p.m.</td>
                      <td class="text-center">2435, 0.769120E+06, 0.976800E+06</td>
                      <td><b>1559.28104</b></td>
                  </tr>
                  <tr>
                      <td>HIT_BACC</td>
                      <td>73</td>
                      <td>June 12, 2019, 3:55 p.m.</td>
                      <td>June 12, 2019, 3:45 p.m.</td>
                      <td class="text-center">2855, 0.714294E+06, 0.114520E+07</td>
                      <td><b>1167.423</b></td>
                  </tr>
              </tbody>
          </table> 
          </section>
        </section>      

        <section data-background-video="media/act_top.mp4">
        </section>
      
        <section data-background-image="img/galaxy2.jpg" data-background-opacity=0.1>
          <h2>Watch it on Youtube!</h2>
          <iframe width="760" height="415" src="https://www.youtube.com/embed/nlnlORplDTI" frameborder="0" 
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
          <ul>
            <li>145K views, 439 likes (as of 05.08.2019)</li>
          </ul>
        </section>

        <section data-background-image="img/galaxy2.jpg" data-background-opacity=0.1>
          <h2>The Galaxy is at peace again!</h2>
          <img data-src="img/thanks.gif"/ style="margin-bottom:20px">
        <h4>Questions?</h4>
        <p style="font-size:18pt">Contact me: <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;%6D%61%72%63%75%73%2E%6D%61%65%72%74%65%6E%73%40%65%73%61%2E%69%6E%74">Marcus Märtens</a></p>
        <h4>Links!</h4>
        <ul>
          <li><a href="https://www.esa.int/gsp/ACT/index.html">ESA's Advanced Concepts Team</a></li>
          <li><a href="https://sophia.estec.esa.int/gtoc_portal/">GTOC Portal</a></li>
          <li><a href="https://gtocx.jpl.nasa.gov">GTOC-X Homepage</a> (by JPL)</li>
          <!--<li>This presentation:<a href="http://coolrunning.github.io/gtocx_pres">http://coolrunning.github.io/gtocx_pres</a></li>-->
        </ul>
        </section>

      </div>
    </div>
  
  
  
  
    <script src="js/reveal.js"></script>

    <script>
      // More info about config & dependencies:
      // - https://github.com/hakimel/reveal.js#configuration
      // - https://github.com/hakimel/reveal.js#dependencies
      Reveal.initialize({
        dependencies: [
          { src: 'plugin/markdown/marked.js' },
          { src: 'plugin/markdown/markdown.js' },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true },
          { src: 'plugin/math/math.js', async: true }
        ],
        
        // Push each slide change to the browser history. Implies `hash: true`
        history: true,
        
        // No vertical center alignment
        center: false,
        
      });
    </script>
  </body>
</html>
